{{ define "jsoner" }}

    {{/* Add the base header for the generated file */}}
    {{ $pkg := base $.Config.Package }}
    {{ template "header" $ }}


    {{ range $n := $.Nodes }}
        {{ $receiver := $n.Receiver }}
        /* {{ $receiver }} add implement the "Marshal" interface */
        func ({{ $receiver }} *{{ $n.Name }}) Marshal() ([]byte, error) {
        if {{ $receiver }} == nil {
        return nil,errors.New("{{ $n.Name }}(nil)")
        }
        return json.Marshal({{ $receiver }})
        }

        /* {{ $receiver }} add implement the "Unmarshal" interface */
        func ({{ $receiver }} *{{ $n.Name }}) Unmarshal(data []byte) error {
        if {{ $receiver }} == nil {
        return errors.New("{{ $n.Name }}(nil)")
        }
        return json.Unmarshal(data, {{ $receiver }})
        }
    {{ end }}
{{ end }}